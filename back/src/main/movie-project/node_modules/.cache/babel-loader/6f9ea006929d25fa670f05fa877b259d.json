{"ast":null,"code":"var _jsxFileName = \"D:\\\\MVP\\\\Movie-project\\\\back\\\\src\\\\main\\\\movie-project\\\\src\\\\pages\\\\Login\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { setRefreshToken } from '../../storage/Cookie';\nimport { SET_TOKEN } from '../../store/Auth';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [isValid, setIsValid] = useState(true);\n  const [userInfo, setUserInfo] = useState({\n    email: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const handleInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserInfo(prev => {\n      const currentUserInfo = {\n        ...prev\n      };\n      currentUserInfo[name] = value;\n      return currentUserInfo;\n    });\n  };\n  const onClickLogin = () => {\n    axios.post('/generateToken', userInfo).then(res => {\n      if (res) {\n        setRefreshToken(res.data.refreshToken);\n        dispatch(SET_TOKEN(res.data.accessToken));\n        navigate('/');\n      }\n    }).catch(err => {\n      console.log(err);\n      alert('아이디 비밀번호를 확인해주세요!');\n    });\n  };\n  useEffect(() => {\n    if (userInfo.email && userInfo.password) {\n      setIsValid(false);\n    } else {\n      setIsValid(true);\n    }\n  }, [userInfo]);\n  return /*#__PURE__*/_jsxDEV(LonginWrapper, {\n    children: /*#__PURE__*/_jsxDEV(LoginContent, {\n      children: [/*#__PURE__*/_jsxDEV(LoginLabel, {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginInput, {\n        placeholder: \"email@example.com\",\n        name: \"email\",\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginLabel, {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginInput, {\n        type: \"password\",\n        placeholder: \"\\u25CF \\u25CF \\u25CF \\u25CF \\u25CF\",\n        name: \"password\",\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginBtn, {\n        disabled: isValid,\n        onClick: onClickLogin,\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UnderTextWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(UnderText, {\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(UnderText, {\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"GMZ8U9oneKUVeH41Mv3BaDKKeMQ=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nconst LonginWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  margin-top: auto;\n`;\n_c2 = LonginWrapper;\nconst LoginContent = styled.div`\n  width: 25rem;\n  height: 20rem;\n  margin: auto;\n`;\n_c3 = LoginContent;\nconst LoginInput = styled.input`\n  width: 100%;\n  height: 15%;\n  margin-bottom: 1rem;\n  padding-left: 1rem;\n  border: 1px solid #03af59;\n  border-radius: 0.5rem;\n  font-size: 1.2rem;\n  color: #f3f4f8;\n`;\n_c4 = LoginInput;\nconst LoginLabel = styled.h3`\n  font-size: 1rem;\n  color: #03af59;\n  margin-top: 1rem;\n  margin-bottom: 0.5rem;\n`;\n_c5 = LoginLabel;\nconst LoginBtn = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 15%;\n  margin-top: 1rem;\n  border: 1px solid black;\n  border-radius: 0.5rem;\n  font-size: 1.2rem;\n  color: white;\n  background-color: #667080;\n  cursor: pointer;\n\n  :disabled {\n    color: #858585;\n    background-color: #535353;\n  }\n`;\n_c6 = LoginBtn;\nconst UnderTextWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 20%;\n  margin-top: 1rem;\n`;\n_c7 = UnderTextWrapper;\nconst UnderText = styled.p`\n  margin-top: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 700;\n  color: #667080;\n  text-decoration: underline;\n  cursor: pointer;\n`;\n_c8 = UnderText;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"LonginWrapper\");\n$RefreshReg$(_c3, \"LoginContent\");\n$RefreshReg$(_c4, \"LoginInput\");\n$RefreshReg$(_c5, \"LoginLabel\");\n$RefreshReg$(_c6, \"LoginBtn\");\n$RefreshReg$(_c7, \"UnderTextWrapper\");\n$RefreshReg$(_c8, \"UnderText\");","map":{"version":3,"names":["styled","useState","useEffect","Link","useNavigate","axios","setRefreshToken","SET_TOKEN","useDispatch","Login","isValid","setIsValid","userInfo","setUserInfo","email","password","navigate","dispatch","handleInput","e","name","value","target","prev","currentUserInfo","onClickLogin","post","then","res","data","refreshToken","accessToken","catch","err","console","log","alert","LonginWrapper","div","LoginContent","LoginInput","input","LoginLabel","h3","LoginBtn","button","UnderTextWrapper","UnderText","p"],"sources":["D:/MVP/Movie-project/back/src/main/movie-project/src/pages/Login/Login.tsx"],"sourcesContent":["import styled from 'styled-components';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link, Navigate, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { setRefreshToken } from '../../storage/Cookie';\r\nimport { SET_TOKEN } from '../../store/Auth';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Login = () => {\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [userInfo, setUserInfo] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInput = e => {\r\n    const { name, value } = e.target;\r\n    setUserInfo(prev => {\r\n      const currentUserInfo = { ...prev };\r\n      currentUserInfo[name] = value;\r\n      return currentUserInfo;\r\n    });\r\n  };\r\n\r\n  const onClickLogin = () => {\r\n    axios\r\n      .post('/generateToken', userInfo)\r\n      .then(res => {\r\n        if (res) {\r\n          setRefreshToken(res.data.refreshToken);\r\n          dispatch(SET_TOKEN(res.data.accessToken));\r\n          navigate('/');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        alert('아이디 비밀번호를 확인해주세요!');\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo.email && userInfo.password) {\r\n      setIsValid(false);\r\n    } else {\r\n      setIsValid(true);\r\n    }\r\n  }, [userInfo]);\r\n\r\n  return (\r\n    <LonginWrapper>\r\n      <LoginContent>\r\n        <LoginLabel>Email</LoginLabel>\r\n        <LoginInput\r\n          placeholder=\"email@example.com\"\r\n          name=\"email\"\r\n          onChange={handleInput}\r\n        />\r\n        <LoginLabel>Password</LoginLabel>\r\n        <LoginInput\r\n          type=\"password\"\r\n          placeholder=\"● ● ● ● ●\"\r\n          name=\"password\"\r\n          onChange={handleInput}\r\n        />\r\n        <LoginBtn disabled={isValid} onClick={onClickLogin}>\r\n          Sign In\r\n        </LoginBtn>\r\n        <UnderTextWrapper>\r\n          <UnderText>Forgot Password</UnderText>\r\n          <Link to=\"/signup\">\r\n            <UnderText>Sign up</UnderText>\r\n          </Link>\r\n        </UnderTextWrapper>\r\n      </LoginContent>\r\n    </LonginWrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\nconst LonginWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  margin-top: auto;\r\n`;\r\n\r\nconst LoginContent = styled.div`\r\n  width: 25rem;\r\n  height: 20rem;\r\n  margin: auto;\r\n`;\r\n\r\nconst LoginInput = styled.input`\r\n  width: 100%;\r\n  height: 15%;\r\n  margin-bottom: 1rem;\r\n  padding-left: 1rem;\r\n  border: 1px solid #03af59;\r\n  border-radius: 0.5rem;\r\n  font-size: 1.2rem;\r\n  color: #f3f4f8;\r\n`;\r\n\r\nconst LoginLabel = styled.h3`\r\n  font-size: 1rem;\r\n  color: #03af59;\r\n  margin-top: 1rem;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst LoginBtn = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 15%;\r\n  margin-top: 1rem;\r\n  border: 1px solid black;\r\n  border-radius: 0.5rem;\r\n  font-size: 1.2rem;\r\n  color: white;\r\n  background-color: #667080;\r\n  cursor: pointer;\r\n\r\n  :disabled {\r\n    color: #858585;\r\n    background-color: #535353;\r\n  }\r\n`;\r\n\r\nconst UnderTextWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 20%;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst UnderText = styled.p`\r\n  margin-top: 0.5rem;\r\n  font-size: 0.9rem;\r\n  font-weight: 700;\r\n  color: #667080;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}